<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>DIP: Dependency Inversion Principle | Hippo ☁️</title>
    <meta name="generator" content="VuePress 1.9.9">
    <link rel="icon" href="/static_page/logo.png">
    <meta name="description" content="记录一些东西">
    
    <link rel="preload" href="/static_page/assets/css/0.styles.01b3f448.css" as="style"><link rel="preload" href="/static_page/assets/js/app.ecc8d6d4.js" as="script"><link rel="preload" href="/static_page/assets/js/2.6f374f29.js" as="script"><link rel="preload" href="/static_page/assets/js/10.f7a9db1e.js" as="script"><link rel="prefetch" href="/static_page/assets/js/11.655481c7.js"><link rel="prefetch" href="/static_page/assets/js/12.bbf336b7.js"><link rel="prefetch" href="/static_page/assets/js/13.8bd37448.js"><link rel="prefetch" href="/static_page/assets/js/14.bea6ccee.js"><link rel="prefetch" href="/static_page/assets/js/15.e6066554.js"><link rel="prefetch" href="/static_page/assets/js/16.54101596.js"><link rel="prefetch" href="/static_page/assets/js/17.bf1cfb60.js"><link rel="prefetch" href="/static_page/assets/js/18.cb3ed05a.js"><link rel="prefetch" href="/static_page/assets/js/19.e1d13bfd.js"><link rel="prefetch" href="/static_page/assets/js/20.865950b7.js"><link rel="prefetch" href="/static_page/assets/js/21.5dfc2f03.js"><link rel="prefetch" href="/static_page/assets/js/22.7f31943a.js"><link rel="prefetch" href="/static_page/assets/js/23.09aac35b.js"><link rel="prefetch" href="/static_page/assets/js/24.072f13df.js"><link rel="prefetch" href="/static_page/assets/js/25.756282c1.js"><link rel="prefetch" href="/static_page/assets/js/26.8061202e.js"><link rel="prefetch" href="/static_page/assets/js/27.270a0a92.js"><link rel="prefetch" href="/static_page/assets/js/28.017dc8cc.js"><link rel="prefetch" href="/static_page/assets/js/29.f1b22196.js"><link rel="prefetch" href="/static_page/assets/js/3.7099dd68.js"><link rel="prefetch" href="/static_page/assets/js/30.7d37bb5a.js"><link rel="prefetch" href="/static_page/assets/js/31.0186a17b.js"><link rel="prefetch" href="/static_page/assets/js/32.5dd05710.js"><link rel="prefetch" href="/static_page/assets/js/33.46ad45ad.js"><link rel="prefetch" href="/static_page/assets/js/34.82938be2.js"><link rel="prefetch" href="/static_page/assets/js/35.96d2028c.js"><link rel="prefetch" href="/static_page/assets/js/36.e274121f.js"><link rel="prefetch" href="/static_page/assets/js/37.278f5c7f.js"><link rel="prefetch" href="/static_page/assets/js/38.fcb88521.js"><link rel="prefetch" href="/static_page/assets/js/39.aeced8c4.js"><link rel="prefetch" href="/static_page/assets/js/4.22ef053b.js"><link rel="prefetch" href="/static_page/assets/js/40.f9448ab4.js"><link rel="prefetch" href="/static_page/assets/js/5.a4d6a358.js"><link rel="prefetch" href="/static_page/assets/js/6.acc5f195.js"><link rel="prefetch" href="/static_page/assets/js/7.7d458c87.js"><link rel="prefetch" href="/static_page/assets/js/8.57594a85.js"><link rel="prefetch" href="/static_page/assets/js/9.c45e563a.js">
    <link rel="stylesheet" href="/static_page/assets/css/0.styles.01b3f448.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/static_page/" class="home-link router-link-active"><img src="/static_page/logo.png" alt="Hippo ☁️" class="logo"> <span class="site-name can-hide">Hippo ☁️</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/static_page/" class="nav-link">
  Home 🏠
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS 🍎" class="dropdown-title"><span class="title">iOS 🍎</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS 🍎" class="mobile-dropdown-title"><span class="title">iOS 🍎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/iOS/" class="nav-link">
  iOS
</a></li><li class="dropdown-item"><h4>
          翻译
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/iOS/UIImageView翻译.html" class="nav-link">
  UIImageView 翻译
</a></li><li class="dropdown-subitem"><a href="/static_page/PG-ViewController/" class="nav-link">
  PG-ViewController 翻译
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Technology 🌟" class="dropdown-title"><span class="title">Technology 🌟</span> <span class="arrow down"></span></button> <button type="button" aria-label="Technology 🌟" class="mobile-dropdown-title"><span class="title">Technology 🌟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Technology/" class="nav-link router-link-active">
  Technology
</a></li><li class="dropdown-item"><h4>
          Projects
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Technology/iOS-Demo.html" class="nav-link">
  iOS-Demo
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Philosophy 🤔" class="dropdown-title"><span class="title">Philosophy 🤔</span> <span class="arrow down"></span></button> <button type="button" aria-label="Philosophy 🤔" class="mobile-dropdown-title"><span class="title">Philosophy 🤔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Philosophy/" class="nav-link">
  Philosophy
</a></li><li class="dropdown-item"><h4>
          阅读笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Philosophy/宋明理学15讲.html" class="nav-link">
  宋明理学15讲
</a></li><li class="dropdown-subitem"><a href="/static_page/Philosophy/新教伦理与资本主义精神.html" class="nav-link">
  新教伦理与资本主义精神
</a></li><li class="dropdown-subitem"><a href="/static_page/Philosophy/基督教故事十则与相关艺术作品.html" class="nav-link">
  基督教故事十则与相关艺术作品
</a></li></ul></li><li class="dropdown-item"><h4>
          我的想法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Philosophy/解释世界.html" class="nav-link">
  解释世界
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others 😊" class="dropdown-title"><span class="title">Others 😊</span> <span class="arrow down"></span></button> <button type="button" aria-label="Others 😊" class="mobile-dropdown-title"><span class="title">Others 😊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Others/" class="nav-link">
  Others
</a></li><li class="dropdown-item"><!----> <a href="/static_page/Others/更新部署.html" class="nav-link">
  更新部署
</a></li><li class="dropdown-item"><h4>
          记录
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Others/Memory.html" class="nav-link">
  Memory
</a></li><li class="dropdown-subitem"><a href="/static_page/Others/观影记录.html" class="nav-link">
  观影记录
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/butub1/static_page" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/static_page/" class="nav-link">
  Home 🏠
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="iOS 🍎" class="dropdown-title"><span class="title">iOS 🍎</span> <span class="arrow down"></span></button> <button type="button" aria-label="iOS 🍎" class="mobile-dropdown-title"><span class="title">iOS 🍎</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/iOS/" class="nav-link">
  iOS
</a></li><li class="dropdown-item"><h4>
          翻译
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/iOS/UIImageView翻译.html" class="nav-link">
  UIImageView 翻译
</a></li><li class="dropdown-subitem"><a href="/static_page/PG-ViewController/" class="nav-link">
  PG-ViewController 翻译
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Technology 🌟" class="dropdown-title"><span class="title">Technology 🌟</span> <span class="arrow down"></span></button> <button type="button" aria-label="Technology 🌟" class="mobile-dropdown-title"><span class="title">Technology 🌟</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Technology/" class="nav-link router-link-active">
  Technology
</a></li><li class="dropdown-item"><h4>
          Projects
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Technology/iOS-Demo.html" class="nav-link">
  iOS-Demo
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Philosophy 🤔" class="dropdown-title"><span class="title">Philosophy 🤔</span> <span class="arrow down"></span></button> <button type="button" aria-label="Philosophy 🤔" class="mobile-dropdown-title"><span class="title">Philosophy 🤔</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Philosophy/" class="nav-link">
  Philosophy
</a></li><li class="dropdown-item"><h4>
          阅读笔记
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Philosophy/宋明理学15讲.html" class="nav-link">
  宋明理学15讲
</a></li><li class="dropdown-subitem"><a href="/static_page/Philosophy/新教伦理与资本主义精神.html" class="nav-link">
  新教伦理与资本主义精神
</a></li><li class="dropdown-subitem"><a href="/static_page/Philosophy/基督教故事十则与相关艺术作品.html" class="nav-link">
  基督教故事十则与相关艺术作品
</a></li></ul></li><li class="dropdown-item"><h4>
          我的想法
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Philosophy/解释世界.html" class="nav-link">
  解释世界
</a></li></ul></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Others 😊" class="dropdown-title"><span class="title">Others 😊</span> <span class="arrow down"></span></button> <button type="button" aria-label="Others 😊" class="mobile-dropdown-title"><span class="title">Others 😊</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/static_page/Others/" class="nav-link">
  Others
</a></li><li class="dropdown-item"><!----> <a href="/static_page/Others/更新部署.html" class="nav-link">
  更新部署
</a></li><li class="dropdown-item"><h4>
          记录
        </h4> <ul class="dropdown-subitem-wrapper"><li class="dropdown-subitem"><a href="/static_page/Others/Memory.html" class="nav-link">
  Memory
</a></li><li class="dropdown-subitem"><a href="/static_page/Others/观影记录.html" class="nav-link">
  观影记录
</a></li></ul></li></ul></div></div><div class="nav-item"><a href="https://github.com/butub1/static_page" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/static_page/Technology/" aria-current="page" class="sidebar-link">Technology</a></li><li><a href="/static_page/Technology/iOS-Demo.html" class="sidebar-link">iOS-Demo 项目及注入方式</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="dip-dependency-inversion-principle"><a href="#dip-dependency-inversion-principle" class="header-anchor">#</a> DIP: Dependency Inversion Principle</h1> <blockquote><p>dependency inversion principle, 一种模块间松耦合的设计原则</p> <ol><li>High-level modules should not import anything from low-level modules. Both should depend on abstractions (e.g., interfaces).高层次的模块不应当依赖低层次的模块。二者都应当依赖于抽象。</li> <li>Abstractions should not depend on details. Details (concrete implementations) should depend on abstractions.抽象不应当依赖于细节，细节应当依赖于抽象。</li></ol></blockquote> <h2 id="什么是依赖"><a href="#什么是依赖" class="header-anchor">#</a> 什么是依赖</h2> <p><strong>依赖关系：</strong></p> <p>有两个元素A、B，如果元素A的变化会引起元素B的变化，则称元素B依赖（Dependency）于元素A。</p> <p>如：一个类向另一个类发消息；一个类是另一个类的成员；一个类是另一个类的某个操作参数，等等。</p> <p><img src="/static_page/assets/img/DIP1.9db62f7b.jpg" alt="DIP1"></p> <p><strong>直观感受：</strong></p> <p>文件依赖，ClassA 需要</p> <ol><li>#import ClassB</li> <li>持有和使用</li> <li>实例化B</li> <li>...</li></ol> <p>当ClassB变动时：</p> <ol><li>字段类型改变： string *name  =&gt;  mutableString *name;</li> <li>函数返回值改变: (int)funcB  =&gt;  (void)funcB</li> <li>...</li></ol> <p>那么ClassA其实就需要去不断地适配ClassB的变动。一个上层类ClassA,往往持有和使用多个和ClassB类似的下层的类，导致不稳定++，耦合程度++，当层级变得更多时，工程可能也就难以维护了；</p> <p><strong>目的：</strong></p> <p>依赖隔离，依赖倒置 ---&gt; 代码的稳定</p> <h2 id="层次化、模块化"><a href="#层次化、模块化" class="header-anchor">#</a> 层次化、模块化</h2> <p>工程规模大了之后，为了追求复用，往往模块化地去组织代码，比如Aweme --&gt; Studio--&gt; CameraClient --&gt; CreationKit，形成层次化的结构。</p> <p><img src="/static_page/assets/img/DIP2.577b7939.jpg" alt="DIP2"></p> <p>这就导致底层类的更改会导致上层类的变动。Utility Layer的接入方越多，影响越大。</p> <p>依赖关系：Policy #import Machanism#import Utility</p> <p>调用关系： Policy --&gt; Machanism --&gt; Utility</p> <h2 id="倒置依赖"><a href="#倒置依赖" class="header-anchor">#</a> 倒置依赖</h2> <p>一种解决的方案，就是把依赖倒置。上层模块Policy去依赖<code>&lt;PolicyServiceInterface&gt;</code>，他知道自己需要一个什么样的对象。</p> <p><img src="/static_page/assets/img/DIP3.3b14a102.jpg" alt="DIP3"></p> <div class="language- line-numbers-mode"><pre class="language-text"><code>依赖关系：Policy #import  &lt;PolicyServiceInterface&gt; #implemenet Machanism   #import &lt;MachanismServiceInterface&gt; #implement Utility
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><div class="language- line-numbers-mode"><pre class="language-text"><code>调用关系： Policy --&gt; &lt;PolicyServiceInterface&gt;  --&gt; Machanism --&gt; &lt;MachanismServiceInterface&gt; --&gt;Utility
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>这样底层的实现即便改动，只要没有改动到接口层，上层模块就可以继续使用原本的接口抽象。</p> <p>“倒置”：</p> <div class="language- line-numbers-mode"><pre class="language-text"><code>原本： Policy #import Machanism

现在： Policy #import &lt;PolicyServiceInterface&gt;

 Machanism #import &lt;PolicyServiceInterface&gt;
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>Policy 不需要再引入 Machanism的内容，反而是Machanism要去引入Policy定义的接口，因此说倒置。不过实际的函数调用关系没有改变，上下层关系也没有改变，这么处理完的效果是代码层面的隔离，行为仍然和原来是一致的。</p> <h2 id="一个简单的例子"><a href="#一个简单的例子" class="header-anchor">#</a> 一个简单的例子</h2> <p>一个Button作为开关，控制一个灯泡Lamp</p> <p>可以简单Button持有一个Lamp，当Button被点击Poll()的时候，调用Lamp的TurnOn()和TurnOff()方法</p> <p><img src="/static_page/assets/img/DIP4.ba47111d.jpg" alt="DIP4"></p> <p>代码中：直接持有一个Lamp实例</p> <div class="language-objectivec line-numbers-mode"><pre class="language-objectivec"><code>public class Button
    private Lamp <span class="token operator">*</span>lamp<span class="token punctuation">;</span>
    public <span class="token keyword">void</span> <span class="token function">Poll</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">&lt;</span>some condition<span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            lamp<span class="token punctuation">.</span><span class="token function">TurnOn</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>当TurnOn是一个空实现的时候，就不亮了。</p> <p><img src="/static_page/assets/img/DIP5.b5123f06.jpg" alt="DIP5"></p> <h2 id="接口放哪儿"><a href="#接口放哪儿" class="header-anchor">#</a> 接口放哪儿</h2> <blockquote><p>接口的所有权？</p></blockquote> <blockquote><p>工具库 or 调用方 or 第三方</p></blockquote> <p>接口的代码，如果放在上层模块，下层模块要去#import上层模块吗？</p> <p>比如 Machanism要去<code>#import &lt;PolicyServiceInterface&gt;</code>，倒置是倒置了，就是有点奇怪。</p> <p>如果Machanism有多个接入方，那么<code>&lt;PolicyServiceInterface&gt;</code>就应该被多个接入方#import, 那么命名也就变得不那么合适了。</p> <ul><li>接口单独放，C++中单独放在一个namespace中，Java中单独放在一个package中。</li></ul> <p><img src="/static_page/assets/img/DIP6.12d0d973.jpg" alt="DIP6"></p> <blockquote><p>《敏捷软件开发》：注意，这里的倒置不仅仅是依赖关系的倒置，它也是接口所有权的倒置。我们通常会认为工具库应该拥有它们自己的接口。但是当应用了DIP时，我们发现往往是客户拥有抽象接口，而它们的服务者则从这些抽象接口派生。</p></blockquote> <h2 id="实例谁来创建和组装"><a href="#实例谁来创建和组装" class="header-anchor">#</a> 实例谁来创建和组装</h2> <blockquote><p>依赖提供方?</p> <p>工具库 or 调用方 or 第三方</p></blockquote> <p><strong>几种方式:</strong></p> <ul><li>Policy的调用方来组装</li> <li>上层的类Policy自己创建Machanism。</li> <li>第三方创建Machanism，提供给Policy
<ul><li>--&gt; 依赖注入</li> <li>抽象工厂模式，看着和容器很像。</li></ul></li></ul> <p><strong>几种解决办法：</strong></p> <ol><li>下沉到底层的模块，再依赖底层的模块。</li> <li>单例实现，三个调用方引入</li> <li>注入，需要一个在所有层级都能够访问的第三方注入工具。</li></ol> <h2 id="适用范围"><a href="#适用范围" class="header-anchor">#</a> 适用范围</h2> <blockquote><p>实际应用上，可能没有办法那么严格</p></blockquote> <p>为了依赖于抽象，考虑是否：</p> <ol><li>任何变量不应该持有一个指向具体类的指针或者引用</li> <li>任何一个类都不应该由具体类派生</li> <li>任何方法不应该覆写它的任何基类中已经实现了的方法</li></ol> <hr> <ol><li>很难做到，对于非常稳定的类没有必要，比如NSString等基础类</li> <li>尽可能做到，派生自抽象类，或者实现接口来实现继承更为稳定，防止父类过多变动，导致不稳定。</li> <li>尽可能做到，覆写之后，导致基类的方法不再稳定，会逐渐被子类的行为入侵。</li></ol> <p>继承是代价比较大，容易产生过大复杂度的行为，子类必定依赖父类 🐶</p> <p>日常开发应该尽可能使用接口抽象和包含引用，而尽可能少使用直接继承。</p> <blockquote><p>Golang 没有继承 🐶，更加提倡使用包含与组合</p></blockquote> <h2 id="第二个例子"><a href="#第二个例子" class="header-anchor">#</a> 第二个例子</h2> <p>熔炉(FURNACE)</p> <div class="language-objectivec line-numbers-mode"><pre class="language-objectivec"><code><span class="token keyword">void</span>  <span class="token function">Regulate</span><span class="token punctuation">(</span><span class="token keyword">double</span> minTemp<span class="token punctuation">,</span> <span class="token keyword">double</span> maxTemp<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">(</span>THERMONETER<span class="token punctuation">)</span> <span class="token operator">&gt;</span> minTemp<span class="token punctuation">)</span> <span class="token comment">// 温度计温度 &gt; minTemp</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">out</span><span class="token punctuation">(</span>FURNACE<span class="token punctuation">,</span> ENGAGE<span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 咬合</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span><span class="token keyword">in</span><span class="token punctuation">(</span>THERMONETER<span class="token punctuation">)</span> <span class="token operator">&lt;</span> minTemp<span class="token punctuation">)</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token function">out</span><span class="token punctuation">(</span>FURNACE<span class="token punctuation">,</span> DISENGAGE<span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 松开</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><div class="language-objectivec line-numbers-mode"><pre class="language-objectivec"><code><span class="token keyword">void</span>  <span class="token function">Regulate</span><span class="token punctuation">(</span>Thermometer <span class="token operator">&amp;</span>t<span class="token punctuation">,</span> Heater <span class="token operator">&amp;</span>h<span class="token punctuation">,</span> <span class="token keyword">double</span> minTemp<span class="token punctuation">,</span> <span class="token keyword">double</span> maxTemp<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> minTemp<span class="token punctuation">)</span> <span class="token comment">// 温度计温度 &gt; minTemp</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h<span class="token punctuation">.</span><span class="token function">engage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 咬合</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> minTemp<span class="token punctuation">)</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h<span class="token punctuation">.</span><span class="token function">disengate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 松开</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><p>这样高层的温度调节，就不依赖具体的温度计、加热器的型号的细节了。</p> <h2 id="动态多态与静态多态"><a href="#动态多态与静态多态" class="header-anchor">#</a> 动态多态与静态多态</h2> <blockquote><p>另一种抽象方法：泛型</p></blockquote> <p>同样实现了依赖关系的倒置，只要t和h实例确实实现了read()等方法就可以。不具备动态多态的开销，不过也无法在运行时替换实例，改动需要重新编译。</p> <div class="language-objectivec line-numbers-mode"><pre class="language-objectivec"><code>
template <span class="token operator">&lt;</span>typename THERMOMETER<span class="token punctuation">,</span> typename HEATER<span class="token operator">&gt;</span>
<span class="token keyword">void</span>  <span class="token function">Regulate</span><span class="token punctuation">(</span>THERMOMETER <span class="token operator">&amp;</span>t<span class="token punctuation">,</span> HEATER <span class="token operator">&amp;</span>h<span class="token punctuation">,</span> <span class="token keyword">double</span> minTemp<span class="token punctuation">,</span> <span class="token keyword">double</span> maxTemp<span class="token punctuation">)</span>
<span class="token punctuation">{</span>
    <span class="token keyword">for</span><span class="token punctuation">(</span><span class="token punctuation">;</span><span class="token punctuation">;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> minTemp<span class="token punctuation">)</span> <span class="token comment">// 温度计温度 &gt; minTemp</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h<span class="token punctuation">.</span><span class="token function">engage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">// 咬合</span>
        <span class="token keyword">while</span> <span class="token punctuation">(</span>t<span class="token punctuation">.</span><span class="token function">read</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&lt;</span> minTemp<span class="token punctuation">)</span>
            <span class="token function">wait</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        h<span class="token punctuation">.</span><span class="token function">disengate</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// 松开</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>依赖倒置，并不一定要使用接口实现，静态的模板方式，或者像Python一样的动态类型，或者使用指针类型，都可以去实现依赖倒置，符合两个原则：</p> <ul><li>--&gt;  高层次的模块不应当依赖低层次的模块。二者都应当依赖于抽象。</li> <li>--&gt;  抽象不应当依赖于细节，细节应当依赖于抽象。</li></ul> <p>不过有接口更加便于管理，感觉更加方便一点。</p> <blockquote><p>依赖倒置的方法有很多, 发散地找一些语法特性，其实都是可以去实现的</p> <ol><li>接口</li> <li>指针</li> <li>泛型</li> <li>动态类型</li> <li>反射</li> <li>甚至可以依托于外在文件，Java Bean使用xml进行注入--&gt;Spring框架</li> <li>口头约定，注释约定，文本约定？持久稳定的约定是可以的。比如HTTP协议🐶？200， 比如SQL</li></ol> <p>依赖注入的方式也有很多：</p> <ol><li>初始化方法注入</li> <li>public方法注入</li> <li>类方法注入</li> <li>宏注入</li> <li>第三方框架注入</li></ol></blockquote> <p>毕竟DIP是一种思想，没有强制的实现方案。</p> <h2 id="理想状态"><a href="#理想状态" class="header-anchor">#</a> 理想状态</h2> <blockquote><p>形成稳定的抽象</p></blockquote> <p>《架构整洁之道》:</p> <ol><li>Don't refer to volatile concrete classes</li></ol> <p>不去依赖：易变的具体的类</p> <ol start="2"><li>Don't derive from volatile concrete classes</li></ol> <p>不派生自：易变的具体的类</p> <ol start="3"><li>Don't override concrete functions</li></ol> <p>不覆盖：具体的函数</p> <ol start="4"><li>Never mention the name of anything concrete and volatile.</li></ol> <p>依赖于抽象</p> <h2 id="问题"><a href="#问题" class="header-anchor">#</a> 问题</h2> <p>组织类，组织代码的方式，及其优劣</p> <h2 id="更多样例"><a href="#更多样例" class="header-anchor">#</a> 更多样例</h2> <h3 id="java"><a href="#java" class="header-anchor">#</a> Java</h3> <div class="language-Java line-numbers-mode"><pre class="language-java"><code><span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">Greeter</span><span class="token punctuation">{</span>
        <span class="token keyword">void</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">AngryGreeter</span> <span class="token keyword">implements</span> <span class="token class-name">Greeter</span> <span class="token punctuation">{</span> 
    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;YOWL!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token keyword">final</span> <span class="token class-name">Greeter</span> greeter<span class="token punctuation">;</span>
          
    <span class="token keyword">public</span> <span class="token class-name">Cat</span><span class="token punctuation">(</span><span class="token class-name">Greeter</span> greeter<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>greeter <span class="token operator">=</span> greeter<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>greeter<span class="token punctuation">.</span><span class="token function">greet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><h3 id="python"><a href="#python" class="header-anchor">#</a> Python</h3> <p>https://www.linisnil.com/articles/python-dependency-inversion-principle/</p> <div class="language-Python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">class</span> <span class="token class-name">AngryGreeter</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;YOWL!&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> greeter<span class="token punctuation">)</span> <span class="token operator">//</span> 动态类型直接调用方法，没有greet<span class="token punctuation">(</span><span class="token punctuation">)</span>方法就报错
        greeter<span class="token punctuation">.</span>greet<span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><div class="language-Python line-numbers-mode"><pre class="language-python"><code><span class="token keyword">import</span> abc
<span class="token operator">//</span> 也可以引入抽象类，帮助进行接口的约束
<span class="token keyword">class</span> <span class="token class-name">Greeter</span><span class="token punctuation">(</span>abc<span class="token punctuation">.</span>ABC<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token decorator annotation punctuation">@abc<span class="token punctuation">.</span>abstractmethod</span>
    <span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">AngryGreeter</span><span class="token punctuation">(</span>Greeter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>self<span class="token punctuation">)</span><span class="token punctuation">:</span>
        <span class="token keyword">print</span><span class="token punctuation">(</span><span class="token string">&quot;YOWL!&quot;</span><span class="token punctuation">)</span>

<span class="token keyword">class</span> <span class="token class-name">HappyGreeter</span><span class="token punctuation">(</span>Greeter<span class="token punctuation">)</span><span class="token punctuation">:</span>
    <span class="token keyword">pass</span>

<span class="token keyword">class</span> <span class="token class-name">Cat</span><span class="token punctuation">:</span>
    <span class="token keyword">def</span> <span class="token function">greet</span><span class="token punctuation">(</span>self<span class="token punctuation">,</span> greeter<span class="token punctuation">)</span><span class="token punctuation">:</span>
        greeter<span class="token punctuation">.</span>greet<span class="token punctuation">(</span><span class="token punctuation">)</span>

<span class="token keyword">if</span> __name__ <span class="token operator">==</span> <span class="token string">&quot;__main__&quot;</span><span class="token punctuation">:</span>
    c <span class="token operator">=</span> Cat<span class="token punctuation">(</span><span class="token punctuation">)</span>
    c<span class="token punctuation">.</span>greet<span class="token punctuation">(</span>AngryGreeter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
    c<span class="token punctuation">.</span>greet<span class="token punctuation">(</span>HappyGreeter<span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">//</span> HappyGreeter实例化时检查，报错
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br></div></div><h3 id="go"><a href="#go" class="header-anchor">#</a> GO</h3> <p><a href="https://dev.to/bmf_san/dive-to-clean-architecture-with-golang-cd4" target="_blank" rel="noopener noreferrer">Dive to Clean Architecture with Golang<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-Go line-numbers-mode"><pre class="language-go"><code><span class="token keyword">package</span> examples

<span class="token comment">// Logger is an interface which will be used for an argument of a function.</span>
<span class="token keyword">type</span> Logger <span class="token keyword">interface</span> <span class="token punctuation">{</span>
    <span class="token function">Printf</span><span class="token punctuation">(</span><span class="token builtin">string</span><span class="token punctuation">,</span> <span class="token operator">...</span><span class="token keyword">interface</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token comment">// FooController is a struct which will be returned by function.</span>
<span class="token keyword">type</span> FooController <span class="token keyword">struct</span> <span class="token punctuation">{</span>
    Logger Logger
<span class="token punctuation">}</span>

<span class="token comment">// NewFooController is a function for an example, &quot;Accept interfaces, return structs&quot;.</span>
<span class="token comment">// Also, this style of a function take on a role of constructor for struct.</span>
<span class="token keyword">func</span> <span class="token function">NewFooController</span><span class="token punctuation">(</span>logger Logger<span class="token punctuation">)</span> <span class="token operator">*</span>FooController <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token operator">&amp;</span>FooController<span class="token punctuation">{</span>  <span class="token comment">// 接受Logger接口， 构建并返回FooController的实例</span>
        Logger<span class="token punctuation">:</span> logger<span class="token punctuation">,</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre> <div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br></div></div><h2 id="ref"><a href="#ref" class="header-anchor">#</a> Ref</h2> <ol><li><p><a href="https://blog.cleancoder.com/uncle-bob/2012/08/13/the-clean-architecture.html" target="_blank" rel="noopener noreferrer">Clean Coder Blog<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> Bob Uncle</p></li> <li><p><a href="https://www.linisnil.com/articles/python-dependency-inversion-principle/" target="_blank" rel="noopener noreferrer">Python Dependency Inversion Principle – Linisnil<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li> <li><p>https://github.com/bxcodec/go-clean-arch</p></li> <li><p><a href="https://github.com/sergdort/CleanArchitectureRxSwift" target="_blank" rel="noopener noreferrer">GitHub - sergdort/CleanArchitectureRxSwift: Example of Clean Architecture of iOS app using RxSwift<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p></li></ol> <!----></div> <footer class="page-edit"><!----> <!----></footer> <!----> </main></div><div class="global-ui"></div></div>
    <script src="/static_page/assets/js/app.ecc8d6d4.js" defer></script><script src="/static_page/assets/js/2.6f374f29.js" defer></script><script src="/static_page/assets/js/10.f7a9db1e.js" defer></script>
  </body>
</html>
